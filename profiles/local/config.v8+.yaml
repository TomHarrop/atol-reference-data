# This profile is for local testing
---
__use_yte__: true
__definitions__:
  - from tempfile import mkdtemp
  - tmpdir = mkdtemp()
resources:
  concurrent_busco_downloads: 3
  concurrent_storage_uploads: 3
restart-times: 0
local-cores: 2
cores: 50
latency-wait: 60
jobs: 128
keep-going: true
keep-storage-local-copies: true
rerun-incomplete: true
printshellcmds: true
use-singularity: true
use-apptainer: true
use-conda: False
apptainer-args: ?f"-B $PWD,{tmpdir}
  --nv
  -H $(mktemp -d)
  --pwd $PWD
  --containall --cleanenv --writable-tmpfs"
singularity-args: ?f"-B $PWD,{tmpdir}
  --nv
  -H $(mktemp -d)
  --pwd $PWD
  --containall --cleanenv --writable-tmpfs"
singularity-prefix: $HOME/.apptainer/cache/library
apptainer-prefix: $HOME/.apptainer/cache/library
shadow-prefix: ?tmpdir
# s3
storage-s3-endpoint-url: https://projects.pawsey.org.au
storage-s3-access-key: $AWS_ACCESS_KEY_ID
storage-s3-secret-key: $AWS_SECRET_ACCESS_KEY
